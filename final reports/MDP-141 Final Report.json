{
  "body": "# **Nance Integration: Final Report**\n\n\n# **Original Proposal**\n\n**Link to Original Proposal:**[**MDP -141: MoonDAO Governance: Nance Integration**](https://docs.google.com/document/d/1V5DhNbnRCCHl9kCYFN_RPiPTRYJnBaPRJ6PtquGyabY/edit?usp=sharing)\\\n\\\n**Original Abstract:** \n\nThis proposal outlines the integration of Nance into the MoonDAO governance process. Nance is a governance automation platform that is composed of a proposal storage system, a Discord bot, and a scheduling system. The integration of Nance will decrease the burden on Senators, reduce reliance on Google Drive for proposal storage, and lead to more consistent and timely governance results.\n\n<!--StartFragment-->\n\n**Project Links:**\n\n[0xfB030a0cC13a109dB9d254f1e79B12Adc765a449****Safe Home](https://etherscan.io/address/0xfB030a0cC13a109dB9d254f1e79B12Adc765a449)\n\n[Discord Project Channel](https://discord.com/channels/914720248140279868/1235295284687536128)\n\n[Discord Proposal Thread](https://discord.com/channels/914720248140279868/1232783584130109480)\n\n\n# **Results**\n\n1. **Objective: Plan app.moondao.com integration**\n\n   1. **Key Result**: Block diagram of proposal flow from app.moondao.com to multisig execution\n\n      1. **Results**:\n\n         1. <https://www.tldraw.com/r/-xDWPcW6ueTmdMhq2z-Sf?v=-647,-255,4086,4150&p=hAxebKo0pp2qCEqfxiRBE>\n\n      2. **Learnings**:\n\n         1. Proposal flow block diagram was largely done during the planning period of this proposal. \n\n      3. **Maintenance**:\n\n         1. None\n\n2) **Key Result**: Confirm who can submit proposals from app\n\n   1. **Results**:\n\n      1. Proposals can be submitted for Discussion by anyone\n\n      2. Proposals can only move to Temperature Check (aka Senate Review) if submitted or sponsored by an address with >= 250k vMOONEY \n\n   2. **Learnings**:\n\n      1. Initially thought we would check an address’s holdings directly on chain but this become difficult with delegated vMOONEY \n\n      2. Easiest way to get address vMOONEY held is from the Snapshot API, makes things simple with directly held and delegated vMOONEY\n\n   3. **Maintenance**:\n\n      1. None****\n\n**Grade:**  _Meets Expectations_ ****\n\n2. **Objective: Scheduled automations**\n\n   1. **Key Result**: Send weekly message of proposals up for Senate review\n\n      1. **Results**: \n\n         1. Pivoted this objective, fulfilled it by sending a daily message that includes all of the proposals and status for the current and next governance cycle. This message is sent to #governance-alerts channel every day at 0:00 UTC ![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXdm8NTmOnxOf6SeDQo0tBr6QRhtu2Eugps3J894uiHlWByEyo1HLYV6bX3I4FRb8zXngr6VJdF-Jz8scDZrXchl-ukF8bAkVea5Nc8i88rnAgXiVRccUOg-2LaDJTG-PrHoiueWWpNcybwxnvhz-6F1Qe8-?key=hnNBspa2spZ0DkRlDSzWjw)\n\n         2. Example of Temperature Check (Senate blind poll) upon submission of a proposal by an author with >= 250k vMOONEY\n\n![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXcx_wkJDwG5xcnc3y_M5z6A43-JnM4SjWSAxyacQjQDHx7AeCBMqEN8d8zSpq69XzYCNHSTIQP5F5_6lCTN11Cwpn5oBbVjRipXvP9OQ-fdxkRAaaH-olfr5WnMLj4rdUomIjdT3ImjHGgeBZbVn0g8ZtiB?key=hnNBspa2spZ0DkRlDSzWjw)\n\n2. **Learnings**: \n\n   1. Can obfuscate Discord ID’s of the senators by hashing with a secret key (<https://github.com/nance-eth/nance-ts/blob/115340c6769e9057f144303dfd0b3ed62396a848/src/discord/button/manager.ts#L48>) \n\n3. **Maintenance**: \n\n   1. Reachout to jigglyjams for issues with the automated roll up message\n\n2) **Key Result**: Send weekly message of proposals up for Snapshot vote\n\n   1. **Results**: \n\n      1. Same as above, done with daily message instead\n\n   2. **Learnings**:\n\n      1. Daily message is better\n\n   3. **Maintenance**: \n\n      1. None****\n\n3) **Key Result**: Upload proposal to Snapshot\n\n   1. **Results**: \n\n      1. gnance.eth (0x50e70c43a5dd812e2309eacea61348041011b4ba) added as Snapshot author\n\n![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXeIGVd9t08wkrXwOrjckw7Qc8bR1avR2QkAB-KPpZvp6G0mfF6ujW5y5khrm31iKO6Ubnmuy0tI-T_5dpAHRhy4xwMjjZ7Y6vuAz_9ciHCdQBxsxRgnsqN7YffgHUuCbohORFIL96TBrBfJ6W0WJvblDNXX?key=hnNBspa2spZ0DkRlDSzWjw)\n\n2. Additionally, reworked Nance API to allow for the acceptance of Snapshot compatible signatures and storage if we want to “forward” the authors signature to Snapshot at a later date. This allows for the proper author address to show up on Snapshot.org instead of always showing gnance.eth as the author\n\n2) **Learnings**: \n\n   1. Snapshot uses a very specific proposal signature method:\n\n      1. Method copied from SDK, [snapshot.js](https://github.com/snapshot-labs/snapshot.js/blob/a60044b96e0c6ebd9599e1e4c19a1f2e323ae6bd/src/sign/index.ts#L74) and implemented on MoonDAO.com\n\n      2. [Nance API checks for the signature](https://github.com/nance-eth/nance-ts/blob/081e8d5ffc0cc621ce76291c5e9bcc92f51f8705/src/api/api.ts#L182) in this format and pins to IPFS if its compatible, this precomputes the Snapshot proposalId (0x…) that you see when you’re viewing a proposal on snapshot.org\n\n3) **Maintenance**: \n\n   1. Nance team will support any maintenance that is required****\n\n**Grade:**  _Meets Expectations_ ****\n\n3. **Objective: Integrate proposal editor into app.moondao.com**\n\n   1. **Key Result**: Integrate proposal editor into app.moondao.com\n\n      1. **Results**:\n\n         1. Integrated [@nance/nance-editor npm package](https://www.npmjs.com/package/@nance/nance-editor) into moondao.com\n\n![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXc1HJo7XRatgi-8A8Z1JuUtF1oMc08uaWI74iJX9kiegOpnbO7UOfFCjNGvq2B3yqsmjyOt2PYKYaqptwc3X_SoAffDCcTOHmPasBZ4enrCvy1NclqUzNuemY0DPwX8mgKiL2WwtElSLQV7ISHVrHKd1oC1?key=hnNBspa2spZ0DkRlDSzWjw)\n\n2. Added “Attach Budget” action for users to add a project budget, includes adding team members Discord usernames and wallet addresses so MoonDAO doesn’t have to hunt them down later\n\n![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXd2qyd1_xtd6UEgnFPJMQYOzj1cYAEquKQAHrA7w5bj_PQNX4zsbDTlJyiMDxzYl_YGyBhhgvBjCNltPNrdJuzqIeARrDrqvxJ_-s6poQhddqtcOkR_7mP8qaY1V9DXz0y-fJBliZ5n2yxiGuL4FJWgS_9b?key=hnNBspa2spZ0DkRlDSzWjw)\n\n3. Add ability to use an external upload hook to nance-editor, this allows for MoonDAO to use its own Pinata IPFS API flow for uploading images to the proposal editor\n\n2) **Learnings**: \n\n   1. Had to change how we load the editor in order to get it to work properly across both moondao.com and nance.app\n\n3) **Maintenance**:\n\n   1. Nance team will maintain nance editor package\n\n   2. MoonDAO will manage all images uploaded through the proposal editor to their Pinata IPFS instance\n\n2. **Key Result**: Integrate single proposal viewer into app.moondao.com\n\n   1. **Results**:\n\n      1. Integrated proposal view and Snapshot votes into individual proposal page\n\n      2. Example: <https://moondao.com/proposal/144>\n\n![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXcaTS4AQXm0Wsc5eV84cu_YLs3aseg2zMA_1im--NbShw1aYI6QiMovnmH8sGRWQYzJgEoUjZmUN81iirmFcDt6MYYUfL0oXwTmWjqfi0CMuVfGVfrr4bIdQMgbkMbq-PkpLY24fmgoR-A8VivV3-YOuCD0?key=hnNBspa2spZ0DkRlDSzWjw)\n\n2. **Learnings**:\n\n   1. Using the Thirdweb sdk was a bit difficult in the beginning. Once we got a better understanding of what was going on, we initialized it in a different way and were able to use it like the wallet connection tools we use on nance.app\n\n3. **Maintenance**:\n\n   1.  None****\n\n**Grade:**  _Superb - budget action works really well now!_****\n\n4. **Objective: Integrate table of proposals into app.moondao.com**\n\n   1. **Key Result**: Sync previous proposals into Nance database system\n\n      1. **Results**:\n\n         1. All proposals were downloaded from the Snapshot API and placed in the Nance MoonDAO SQL database: <https://www.dolthub.com/repositories/nance/moondao>\n\n         2. This database is synchronized once per day by a Nance API cron job\n\n      2. **Learnings**:\n\n         1. The author of each proposal is not stored anywhere besides in Google Doc. If we want to provide accurate authorship to the Nance proposal database we need to manually go in and gather this data in order to synchronize it. \n\n      3. **Maintenance**:\n\n         1. Going forward, all proposals submitted through moondao.com will have proper author attribution\n\n         2. Reach out to jigglyjams for database management\n\n2) **Key Result**: Add table of all proposals to app.moondao.com\n\n   1. **Results**:\n\n      1. All proposals are viewable through moondao.com\n\n      2. Infinite loading fetches more proposals from the Nance API\n\n![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXcUpy458UySfB6sWfoXcV3wZYX54lEacZjhT4CVS0PCg5guodwXAmREltBgSwFtNJ7dQd7tjcqJ4ZQvK1oqWQ4-060BYPHH2UXSvz8r9mbB3zrt-wEZ-yZCRU8tGCpt809Mtb9vi3f7NHjHWr83NSJMBOw?key=hnNBspa2spZ0DkRlDSzWjw)\n\n2. **Learnings**: \n\n   1. Able to reuse components from main nance.app site\n\n3. **Maintenance**:\n\n   1. None****\n\n**Grade:**  _Meets Expectations_****\n\n5. **Objective: Integrate open database solution for proposal storage**\n\n   1. **Key Result**: Determine open database solution\n\n      1. **Results**: \n\n         1. We did not pursue this objective\n\n         2. After looking into Tableland more, it does not seem to make any meaningful improvements over the current Nance database system \n\n      2. **Learnings**: \n\n         1. Tableland has some quirks: can’t store text longer than 1024 characters (have to use IPFS after that), can’t run queries on chain, doesn’t provide good data availability, and cannot update or change tables very easily\n\n         2. Our current system is good enough for data availability, in reality no other user besides Nance API needs to write to the database so Tableland is too complex for little gain\n\n      3. **Maintenance**: \n\n         1. Nance cron pushes the database to Dolthub once a day\n\n2) **Key Result**: Implement database solution\n\n   1. **Results**: \n\n      1. Skipped\n\n   2. **Learnings**: \n\n      1. None\n\n   3. **Maintenance**:\n\n      1. None****\n\n**Grade:**  _Does not meet Expectations_\n\n\n# **Member Contributions**\n\n**@jigglyjams:**\n\nMoonDAO.app updates: <https://github.com/nance-eth/MoonDAO-app/commits/load-budget-form/?author=jigglyjams>\n\nNance API updates:\n\n- Blind poll on Discord\n\n- Support for forum type proposal channel\n\n- Support for checking author token holdings and determine proposal submission status\n\n**@twodam:** \n\nMoonDAO.app updates:\n\n<https://github.com/nance-eth/MoonDAO-app/commits/load-budget-form/?author=twodam>\n\n**@name.get:**Supported integration with moondao.com\n\n**@mitchie\\_mitch:**\n\nSupported design effort for budget request form: <https://www.figma.com/design/tPRl4GaoLLlIyxJnohSfhM/Propose-with-budget?node-id=0-1&t=8u5JQVZjo3aUWh86-1>\n\nSupported integration with MoonDAO Discord\n\n**@pmoncada:**\n\nMet with Jigglyjams either in daily standup times for Citizen and Entities or a longer session when needed to just offer feedback and discuss the current state of the project. I didn’t do any “real work” on this project, but I did help navigate through a few decisions and set the plan for features and what we should focus on for the project. I also changed some permissions and stuff in Discord so that the bot could post, but that was relatively easy.\n\n\n# **Reward Distribution**\n\n[Link to the Coordinape](https://app.coordinape.com/circles/31238/give)\n\n|                 |                        |                                             |                                            |                                            |\n| --------------- | ---------------------- | ------------------------------------------- | ------------------------------------------ | ------------------------------------------ |\n| **Member Name** | **% of total rewards** | **Upfront Payment**                         | **Wallet to receive ETH**                  | **Wallet to receive MOONEY**               |\n| _@jigglyjams_   | 52.4                   | 1.6585 ETH + 0.2488 BONUS ETH = 1.9073 ETH  | 0x25910143C255828F623786f46fe9A8941B7983bB | 0x25910143C255828F623786f46fe9A8941B7983bB |\n| @twodam         | 28.6                   | 1.6585 ETH + 0.1358 BONUS ETH = 1.7943 ETH  | 0xca6ed3fdc8162304d7f1fcfc9ca3a81632d5e5b0 | 0xD78285eef93E13D1F96062265b68099C480121b8 |\n| @name.get       | 9                      | 0.0427 ETH                                  | 0x80581C6e88Ce00095F85cdf24bB760f16d6eC0D6 | 0x80581C6e88Ce00095F85cdf24bB760f16d6eC0D6 |\n| @mitchie\\_mitch | 7                      | 0.0332 ETH                                  | 0xb1d4c1B9c8DA3191Fdb515Fa7AdeC3D41D014F4f | 0x9fDf876a50EA8f95017dCFC7709356887025B5BB |\n| @pmoncada       | 3                      | 0.0142 ETH                                  | 0x679d87D8640e66778c3419D164998E720D7495f6 | 0x679d87D8640e66778c3419D164998E720D7495f6 |\n\n\n# **Treasury Transparency**\n\n_Link to Treasury with unused funds returned to the main DAO Treasury._\n\n|                                             |                                                                                                                                                  |                                                                                                                                 |                                                                                                  |                                                                                                                                                                                                                         |                                                                                                                            |\n| ------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |\n| **Txn Title**                               | **Reason**                                                                                                                                       | **Amount**                                                                                                                      | **Recipient**                                                                                    | **Etherscan Link or Gnosis Link**                                                                                                                                                                                       | **Deliverable**                                                                                                            |\n| Final flex overflow distribution            | Distributing the remainder of the funds in accordance with the coordinape results as specified in the proposal                                   | 0.47496 ETH                                                                                                                     | Team                                                                                             | <https://app.safe.global/transactions/tx?safe=eth:0xfB030a0cC13a109dB9d254f1e79B12Adc765a449&id=multisig_0xfB030a0cC13a109dB9d254f1e79B12Adc765a449_0x3db1d2d6116ffbe18f80a1050a0f66eda30fc435ddf5edf0c508a432b8693854> | Team Payout                                                                                                                |\n| Nonce 0                                     | Pay for developer time (jigglyjams and twodam) and make a Nance project contribution for future growth of Nance(MoonDAO receives project tokens) | 3.803942ETH                                                                                                                     | [@nance-app](https://juicebox.money/@nance-app)(Juicebox project)                                | <https://etherscan.io/tx/0xa41485eabba1aab097a8eec8c917ff51834e3f9fce7ca3fdad0ec0c731c315a9>                                                                                                                            | [https://moondao.com/vote https://moondao.com/newProposal](https://moondao.com/vote)                                       |\n| \\| →                                        | Payout to twodam for frontend development work                                                                                                   | 1.6585 ETH_(note: ETH sent is based on USD/ETH so amounts may be slightly different from above Nance Team Payment transaction)_ | [@twodam](https://juicebox.money/@twodam)(Juicebox project)                                      | <https://etherscan.io/tx/0x5cc4655cc5c6f5acd99d26f478c5196a3237f675923f9afac3b007d44fa8ed2b>                                                                                                                            |                                                                                                                            |\n| \\| →                                        | Payout to jigglyjams for backend development work                                                                                                | 1.6585 ETH_(note: ETH sent is based on USD/ETH so amounts may be slightly different from above Nance Team Payment transaction)_ | [@jigglyjams ](https://juicebox.money/@jigglyjams)(Juicebox project)                             | <https://etherscan.io/tx/0x5cc4655cc5c6f5acd99d26f478c5196a3237f675923f9afac3b007d44fa8ed2b>                                                                                                                            |                                                                                                                            |\n| Gas Reimbursements to signed.jigglyjams.eth | Reimbursement for above + Safe creation gas costs                                                                                                | 0.001485426747269799 ETH + 0.006115314496036482 ETH = **0.007600741243 ETH**                                                    | [signed.jigglyjams.eth](https://etherscan.io/address/0xf33cfe55655b0190eaf5ac2749f954c64e06d887) | ****                                                                                                                                                                                                                    | [Safe creation](https://etherscan.io/tx/0x69257c32cd71fa74922897e42bef56f3480c8fd1abe0ea5cf8ac0fbf6bb8afa8)Sending payouts |\n| Safe Creation                               |                                                                                                                                                  |                                                                                                                                 |                                                                                                  | <https://etherscan.io/tx/0x69257c32cd71fa74922897e42bef56f3480c8fd1abe0ea5cf8ac0fbf6bb8afa8>                                                                                                                            |                                                                                                                            |\n\n****![](https://lh7-rt.googleusercontent.com/docsz/AD_4nXcrKCd1GWExUc_hWX6jBTP3_Y_39idWYf1yL79FpRmYRU-r3Sj3UYZAB_JdcaP2rjtRdKNb4k5hPRooVSlBZ6d9-aUqfF5aQPmOBOP5tFdIk5EY58_pya4HebhoWzNoxttPRCqPC2vuO21YxEWb5p286sfE?key=hnNBspa2spZ0DkRlDSzWjw)****",
  "contributors": "[{\"Contributor\":\"jigglyjams\",\"Payout Address\":\"0x25910143C255828F623786f46fe9A8941B7983bB\",\"Voting Address\":\"0x25910143C255828F623786f46fe9A8941B7983bB\",\"Eth\":2.3274,\"Mooney\":1414658,\"Dai\":0},{\"Contributor\":\"twodam\",\"Payout Address\":\"0xca6ed3fdc8162304d7f1fcfc9ca3a81632d5e5b0\",\"Voting Address\":\"0xD78285eef93E13D1F96062265b68099C480121b8\",\"Eth\":1.7943,\"Mooney\":637041,\"Dai\":0},{\"Contributor\":\"name.get\",\"Payout Address\":\"0x80581C6e88Ce00095F85cdf24bB760f16d6eC0D6\",\"Voting Address\":\"0x80581C6e88Ce00095F85cdf24bB760f16d6eC0D6\",\"Eth\":0.3298,\"Mooney\":200468,\"Dai\":0},{\"Contributor\":\"mitchie_mitch\",\"Payout Address\":\"0xb1d4c1B9c8DA3191Fdb515Fa7AdeC3D41D014F4f\",\"Voting Address\":\"0x9fDf876a50EA8f95017dCFC7709356887025B5BB\",\"Eth\":0.2565,\"Mooney\":155919,\"Dai\":0},{\"Contributor\":\"pmoncada\",\"Payout Address\":\"0x679d87D8640e66778c3419D164998E720D7495f6\",\"Voting Address\":\"0x679d87D8640e66778c3419D164998E720D7495f6\",\"Eth\":0.1099,\"Mooney\":66823,\"Dai\":0}]"
}
